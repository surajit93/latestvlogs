{{ $title := cond (ne .Title "") (printf "%s | %s" .Title .Site.Title) .Site.Title }}
<title>{{ $title }}</title>
<meta name="description" content="{{ with .Params.description }}{{ . | plainify }}{{ else }}{{ .Summary | plainify | truncate 160 }}{{ end }}">
<meta name="keywords" content="{{ delimit (or .Params.tags .Site.Params.keywords) "," }}">
<link rel="canonical" href="{{ .Permalink }}">
<meta property="og:title" content="{{ $title }}">
<meta property="og:description" content="{{ with .Params.description }}{{ . | plainify }}{{ else }}{{ .Summary | plainify | truncate 200 }}{{ end }}">
<meta property="og:type" content="{{ if .IsHome }}website{{ else }}article{{ end }}">
<meta property="og:url" content="{{ .Permalink }}">
{{ with .Params.image }}<meta property="og:image" content="{{ . | absURL }}"/>{{ end }}
<meta name="twitter:card" content="summary_large_image">
<script type="application/ld+json">
{
 "@context":"https://schema.org",
 "@type":"Article",
 "headline":"{{ .Title }}",
 "datePublished":"{{ .Date.UTC.Format "2006-01-02T15:04:05Z07:00" }}",
 "dateModified":"{{ .Lastmod.UTC.Format "2006-01-02T15:04:05Z07:00" }}",
 "author": { "@type": "Person", "name": "{{ .Site.Params.author }}" },
 "image": "{{ with .Params.image }}{{ . | absURL }}{{ end }}",
 "mainEntityOfPage": "{{ .Permalink }}"
}
</script>
